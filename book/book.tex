\documentclass{book}

% Required for \includegraphics and \graphicspath
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{hyperref}
\usepackage{subcaption} % For subfigure environments

% Mathematical packages for symbols and equations
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsmath,amsthm,amssymb,mathtools}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{enumitem}

% For dialogue environment - using the proper package
\usepackage{dialogue}

% For colored boxes and enhanced environments
\usepackage{xcolor}
\usepackage[skins,breakable]{tcolorbox}
\usepackage{tikz}
\usepackage{titlesec} % For custom heading styles
% Utility for checking empty arguments when supplying optional titles
\usepackage{etoolbox}
% xparse for defining wrapper environments that forward to breakable boxes
\usepackage{xparse}
% Provide the H float specifier used in some chapter figures
\usepackage{float}

% Custom heading levels
\newcommand{\headingA}[1]{%
  \vspace{0.7em}\noindent{\fontsize{13}{15}\selectfont\bfseries #1}\vspace{0.4em}\par\noindent
}

% Level 5 heading (smaller than headingA but still distinctive)
\newcommand{\headingB}[1]{%
  \vspace{0.5em}\noindent{\fontsize{12}{14}\selectfont\bfseries #1}\vspace{0.3em}\par\noindent
}

% Informal heading (for less important divisions)
\newcommand{\infoheading}[1]{%
  \vspace{0.4em}\noindent\textit{\textbf{#1}}\vspace{0.2em}\par\noindent
}

% Set up page geometry
\geometry{
    a4paper,
    left=2.5cm,
    right=2.5cm,
    top=3cm,
    bottom=3cm
}

% All figures are consolidated in figures/ directory as per the plan
\graphicspath{{figures/}}

% Custom theorem environments
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]

% Define beautiful colored block environments
\tcbset{
    base/.style={
        arc=3mm,
        outer arc=3mm,
        boxrule=0.5pt,
        left=5mm,
        right=5mm,
        top=3mm,
        bottom=3mm,
        fonttitle=\bfseries\sffamily,
        coltitle=white,
        enhanced,
        drop shadow,
        before skip=10pt,
        after skip=10pt
    },
    breakable-base/.style={
        base,
        breakable,
        pad at break=3mm
    }
}

% Breakable Definition block (Blue theme) — accepts optional title as a second argument
\newtcolorbox{definitionboxbreak}[2][]{
    breakable-base,
    colback=blue!8,
    colframe=blue!50!black,
    colbacktitle=blue!70!black,
    title={\ifstrempty{#2}{Definition}{#2}},
    #1
}

% Breakable Theorem block (Green theme) — accepts optional title as a second argument
\newtcolorbox{theoremboxbreak}[2][]{
    breakable-base,
    colback=green!8,
    colframe=green!50!black,
    colbacktitle=green!70!black,
    title={\ifstrempty{#2}{Theorem}{#2}},
    #1
}

% Breakable Example block (Orange theme) — accepts optional title as a second argument
\newtcolorbox{exampleboxbreak}[2][]{
    breakable-base,
    colback=orange!8,
    colframe=orange!50!black,
    colbacktitle=orange!70!black,
    title={\ifstrempty{#2}{Example}{#2}},
    halign title=left,
    #1
}

% Breakable Important block (Red theme)
\newtcolorbox{importantboxbreak}[2][]{
    breakable-base,
    colback=red!8,
    colframe=red!50!black,
    colbacktitle=red!70!black,
    title={\ifstrempty{#2}{Important}{#2}},
    #1
}

% Breakable Exercise block (Teal theme)
\newtcolorbox{exerciseboxbreak}[2][]{
    breakable-base,
    colback=teal!8,
    colframe=teal!50!black,
    colbacktitle=teal!70!black,
    title={\ifstrempty{#2}{Exercise}{#2}},
    #1
}

% Breakable Proof block (Gray theme)
\newtcolorbox{proofboxbreak}[2][]{
    breakable-base,
    colback=gray!8,
    colframe=gray!50!black,
    colbacktitle=gray!70!black,
    title={\ifstrempty{#2}{Proof}{#2}},
    #1
}

% Breakable Solution block (Purple theme) — accepts optional title as a second argument
\newtcolorbox{solutionboxbreak}[2][]{
    breakable-base,
    colback=purple!8,
    colframe=purple!50!black,
    colbacktitle=purple!70!black,
    title={\ifstrempty{#2}{Solution}{#2}},
    #1
}

% Breakable Key concept block (Cyan theme) — accepts optional title as a second argument
\newtcolorbox{keyconceptboxbreak}[2][]{
    breakable-base,
    colback=cyan!8,
    colframe=cyan!50!black,
    colbacktitle=cyan!70!black,
    title={\ifstrempty{#2}{Key Concept}{Key Concept: #2}},
    #1
}

% Breakable Fun Facts block (Magenta theme) — accepts optional title as a second argument
\newtcolorbox{funfactsbreak}[2][]{
    breakable-base,
    colback=magenta!8,
    colframe=magenta!50!black,
    colbacktitle=magenta!70!black,
    title={\ifstrempty{#2}{Fun Facts}{Fun Facts: #2}},
    #1
}

% Breakable Identities block (Gold theme) — accepts optional title as a second argument
\newtcolorbox{identitiesboxbreak}[2][]{
    breakable-base,
    colback=yellow!15,
    colframe=yellow!50!orange,
    colbacktitle=yellow!50!orange!80!black,
    title={\ifstrempty{#2}{Mathematical Identities}{Mathematical Identities: #2}},
    #1
}

% Breakable Axioms block (Lime/Olive theme) — accepts optional title as a second argument
\newtcolorbox{axiomsboxbreak}[2][]{
    breakable-base,
    colback=lime!8,
    colframe=olive!50!black,
    colbacktitle=lime!50!olive!80!black,
    title={\ifstrempty{#2}{Axioms}{Axioms: #2}},
    #1
}

% Code block environment for Python/programming examples
\usepackage{listings}
\usepackage{xcolor}

% Define colors for syntax highlighting
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Configure listings style
\lstdefinestyle{pythonstyle}{
    language=Python,
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    frame=single,
    rulecolor=\color{black!30}
}

\lstset{style=pythonstyle}

% Breakable code block environment (Light gray theme with syntax highlighting)
\newtcolorbox{codeblock}[2][]{
    breakable-base,
    colback=backcolour,
    colframe=black!50,
    colbacktitle=black!70,
    fonttitle=\ttfamily\bfseries,
    title={\ifstrempty{#2}{Code}{#2}},
    before upper={\lstset{style=pythonstyle}},
    #1
}

\title{Mathematics Bootcamp\\
       \large A Comprehensive Guide to Pre-Calculus, Geometry, and Calculus}
\author{Mathematics Learning Team}
\date{\today}

\begin{document}

\maketitle
\tableofcontents

% Part I: Pre-Calculus Foundations
\part{Pre-Calculus Foundations}

% \include{chapters/chapter_introduction}
% \include{chapters/chapter_real_numbers}
% \include{chapters/chapter_functions}
% \include{chapters/chapter_polynomials}
% \include{chapters/chapter_exponentials_logarithms}
% \include{chapters/chapter_trigonometry}
% \include{chapters/chapter_polar_complex}
% \include{chapters/chapter_sequences_series}

% % Part II: Geometry  
% \part{Geometry}

% \include{chapters/chapter_geometry_introduction}
% \include{chapters/chapter_scalars_vectors}
% \include{chapters/chapter_3d_geometry}

% % Part III: Calculus
% \part{Calculus}

% \include{chapters/chapter_calculus_introduction}


% Part IV: Probability and Statistics
\part{Probability and Statistics}

% \include{chapters/chapter_probability_statistics_introduction}
\include{chapters/chapter_combinatorial_analysis}
\include{chapters/chapter_probability}
% \include{chapters/chapter_statistics}

\end{document}